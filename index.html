<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<title>Generator Encryptor</title>

<style>
body{
  background:#0f0f0f;
  color:#00ff9c;
  font-family:Arial;
  padding:30px;
}
textarea,select,input,button{
  width:100%;
  margin:8px 0;
  padding:10px;
  background:#1e1e1e;
  color:#00ff9c;
  border:1px solid #00ff9c;
}
button{
  cursor:pointer;
  font-weight:bold;
}
pre{
  background:#000;
  padding:15px;
  white-space:pre-wrap;
}
</style>
</head>

<body>

<h2>üîê Generator Encryptor</h2>
<p>Upload file atau paste code ‚Üí pilih bahasa ‚Üí obfuscate</p>

<!-- Upload -->
<input type="file" id="fileInput">

<!-- Pilih bahasa -->
<select id="lang">
  <option value="js">JavaScript</option>
  <option value="html">HTML</option>
  <option value="css">CSS</option>
</select>

<!-- Input code -->
<textarea id="input" rows="10" placeholder="Paste code di sini..."></textarea>

<button onclick="process()">üîí Obfuscate</button>
<button onclick="download()">‚¨á Download</button>

<h3>Hasil:</h3>
<pre id="output"></pre>

<script>
/* ======================
   FILE UPLOAD HANDLER
   ====================== */
document.getElementById("fileInput").addEventListener("change", e=>{
  const file=e.target.files[0];
  if(!file) return;
  const reader=new FileReader();
  reader.onload=()=>document.getElementById("input").value=reader.result;
  reader.readAsText(file);
});

/* ======================
   OBFUSCATION ENGINE
   ====================== */
function process(){
  const code=document.getElementById("input").value;
  const lang=document.getElementById("lang").value;
  let result="";

  if(lang==="js"){
    result=btoa(unescape(encodeURIComponent(code)))
      .split("").reverse().join("");
    result=`eval(atob("${result.split("").reverse().join("")}"));`;
  }

  if(lang==="html"){
    result=code.split("")
      .map(c=>"&#"+c.charCodeAt(0)+";")
      .join("");
  }

  if(lang==="css"){
    result=code.replace(/\s+/g," ")
      .replace(/[a-zA-Z]/g,c=>"\\x"+c.charCodeAt(0).toString(16));
  }

  document.getElementById("output").textContent=result;
}

/* ======================
   DOWNLOAD RESULT
   ====================== */
function download(){
  const text=document.getElementById("output").textContent;
  const blob=new Blob([text],{type:"text/plain"});
  const a=document.createElement("a");
  a.href=URL.createObjectURL(blob);
  a.download="obfuscated.txt";
  a.click();
}
</script>

</body>
</html>
